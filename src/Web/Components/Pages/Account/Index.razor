@page "/landing"
@inject NavigationManager _navigationManager
@layout EmptyLayout

<PageTitle>@Constants.APPLICATION_NAME</PageTitle>

<div class="content h-[95vh] flex items-stretch">
    <div class="h-max w-[90%] mx-auto self-center flex flex-col space-y-8">
        <div class="flrx flex-col space-y-2">
            <div class="text-center text-primary title w-full uppercase">
                Waitbuddy
            </div>
            <div class="text-center text-primary w-full font-light">
                Registration in the appointment book comfortably and from anywhere.
            </div>
        </div>
        <div class="flex flex-col space-y-4 w-1/3 mx-auto">
            <BigButton Icon="fi fi-rr-user" Text="Log in" OnClick=@(() => _navigationManager.NavigateTo($"account/login{_returnUrlIfNeeded}", true)) />
            <BigButton Icon="fi fi-rr-user-add" Text="Create account" OnClick=@(() => _navigationManager.NavigateTo($"account/create-account{_returnUrlIfNeeded}", true)) />
            <BigButton Icon="fi fi-rr-smile" Text="Continue as a guest" OnClick=@(() => _navigationManager.NavigateTo($"account/no-account{_returnUrlIfNeeded}", true)) Disabled=true />
            </div>
        </div>
    </div>
    <div class="h-[5vh] bg-white my-shadow px-4 py-2 grid grid-cols-12 gap-2">
    <div class="col-span-5">Katedra počítačov a informatiky, FEI, TUKE a JER</div>
    <div class="col-span-2 text-center">Tímový projekt, 2023</div>
    <div class="col-span-5 text-end">
        Korečko D., Marcinčáková K., Popróči V., Pohronec M. a Plecník-Gašpar J.
    </div>
</div>

@code {
    [SupplyParameterFromQuery]
    private string? ReturnUrl { get; set; } = string.Empty;

    private string _returnUrlIfNeeded { get => ReturnUrl is null ? string.Empty : $"?returnUrl={Uri.EscapeDataString(ReturnUrl)}"; }
}